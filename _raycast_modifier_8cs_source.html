<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Linity: Assets/Scripts/Libraries/ET/Module/Pathfinding/AstarPathfindingProject/Modifiers/RaycastModifier.cs 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Linity
   &#160;<span id="projectnumber">1.0 Beta</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_raycast_modifier_8cs_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RaycastModifier.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_raycast_modifier_8cs.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_unity_engine.html">UnityEngine</a>;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Collections.Generic;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_p_f.html">PF</a>;</div>
<div class="line"><a name="l00004"></a><span class="lineno"><a class="line" href="_raycast_modifier_8cs.html#af3326292fdd04d2b384b6d781d9594f6">    4</a></span>&#160;<span class="keyword">using</span> <a class="code" href="struct_unity_engine_1_1_vector3.html">Vector3</a> = <a class="code" href="namespace_unity_engine.html">UnityEngine</a>.<a class="code" href="struct_unity_engine_1_1_vector3.html">Vector3</a>;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_pathfinding.html">Pathfinding</a> {</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        <span class="keyword">using</span> <a class="code" href="namespace_pathfinding.html">Pathfinding</a>.<a class="code" href="namespace_pathfinding_1_1_util.html">Util</a>;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        [AddComponentMenu(<span class="stringliteral">&quot;Pathfinding/Modifiers/Raycast Modifier&quot;</span>)]</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        [RequireComponent(typeof(Seeker))]</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        [<a class="code" href="namespace_system.html">System</a>.Serializable]</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        [HelpURL(<span class="stringliteral">&quot;http://arongranberg.com/astar/docs/class_pathfinding_1_1_raycast_modifier.php&quot;</span>)]</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html">   42</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_pathfinding_1_1_raycast_modifier.html">RaycastModifier</a> : <a class="code" href="class_pathfinding_1_1_mono_modifier.html">MonoModifier</a> {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">        #if UNITY_EDITOR</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                [UnityEditor.MenuItem(<span class="stringliteral">&quot;CONTEXT/Seeker/Add Raycast Simplifier Modifier&quot;</span>)]</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> AddComp (UnityEditor.MenuCommand command) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                        (command.context as Component).gameObject.AddComponent(typeof(<a class="code" href="class_pathfinding_1_1_raycast_modifier.html">RaycastModifier</a>));</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#afa383125613e077f2d5740ae0b107f83">   50</a></span>&#160;                <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">int</span> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#afa383125613e077f2d5740ae0b107f83">Order</a> { <span class="keyword">get</span> { <span class="keywordflow">return</span> 40; } }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#a5120853bc1c4454bd9f3b22222932cef">   53</a></span>&#160;                <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a5120853bc1c4454bd9f3b22222932cef">useRaycasting</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#ab22cba2730bc1a7fc0389a4d74a7fa66">   59</a></span>&#160;                <span class="keyword">public</span> LayerMask <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#ab22cba2730bc1a7fc0389a4d74a7fa66">mask</a> = -1;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                [Tooltip(<span class="stringliteral">&quot;Checks around the line between two points, not just the exact line.\nMake sure the ground is either too far below or is not inside the mask since otherwise the raycast might always hit the ground.&quot;</span>)]</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#a1bf67cf9b16aa204d0a1a703f44795ff">   67</a></span>&#160;                <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a1bf67cf9b16aa204d0a1a703f44795ff">thickRaycast</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                [Tooltip(<span class="stringliteral">&quot;Distance from the ray which will be checked for colliders&quot;</span>)]</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#a79b795dad212cc96a2cdb8973d91ad74">   71</a></span>&#160;                <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a79b795dad212cc96a2cdb8973d91ad74">thickRaycastRadius</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                [Tooltip(<span class="stringliteral">&quot;Check for intersections with 2D colliders instead of 3D colliders.&quot;</span>)]</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#a702d49fee5e4d3a87509a9ef34c5e581">   79</a></span>&#160;                <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a702d49fee5e4d3a87509a9ef34c5e581">use2DPhysics</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                [Tooltip(<span class="stringliteral">&quot;Offset from the original positions to perform the raycast.\nCan be useful to avoid the raycast intersecting the ground or similar things you do not want to it intersect&quot;</span>)]</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#aa104b580774a4c819fa081dbacd9e9c9">   85</a></span>&#160;                <span class="keyword">public</span> <a class="code" href="struct_unity_engine_1_1_vector3.html">Vector3</a> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#aa104b580774a4c819fa081dbacd9e9c9">raycastOffset</a> = <a class="code" href="struct_unity_engine_1_1_vector3.html">Vector3</a>.<a class="code" href="struct_unity_engine_1_1_vector3.html#a5ee4172032dfc66b99c27713f0122eaa">zero</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                [Tooltip(<span class="stringliteral">&quot;Use raycasting on the graphs. Only currently works with GridGraph and NavmeshGraph and RecastGraph. This is a pro version feature.&quot;</span>)]</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#a3a82ff7e001b25ad706b55ec0c5f0a44">   89</a></span>&#160;                <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a3a82ff7e001b25ad706b55ec0c5f0a44">useGraphRaycasting</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                [Tooltip(<span class="stringliteral">&quot;When using the high quality mode the script will try harder to find a shorter path. This is significantly slower than the greedy low quality approach.&quot;</span>)]</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#aac76ffa65ba77be1df06ca1e87d88604">   96</a></span>&#160;                <span class="keyword">public</span> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#af6ba4d8f0610cb858ab276ffeb877727">Quality</a> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#aac76ffa65ba77be1df06ca1e87d88604">quality</a> = <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#af6ba4d8f0610cb858ab276ffeb877727">Quality</a>.Medium;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#af6ba4d8f0610cb858ab276ffeb877727">   98</a></span>&#160;                <span class="keyword">public</span> <span class="keyword">enum</span> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#af6ba4d8f0610cb858ab276ffeb877727">Quality</a> {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                        Low,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                        Medium,</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                        High,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                        Highest</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <span class="keyword">static</span> readonly <span class="keywordtype">int</span>[] iterationsByQuality = <span class="keyword">new</span> [] { 1, 2, 1, 3 };</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="keyword">static</span> List&lt;Vector3&gt; buffer = <span class="keyword">new</span> List&lt;Vector3&gt;();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <span class="keyword">static</span> <span class="keywordtype">float</span>[] DPCosts = <span class="keyword">new</span> <span class="keywordtype">float</span>[16];</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="keyword">static</span> <span class="keywordtype">int</span>[] DPParents = <span class="keyword">new</span> <span class="keywordtype">int</span>[16];</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#a4648dee93e093180608e371c7c13b001">  114</a></span>&#160;                <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a4648dee93e093180608e371c7c13b001">Apply</a> (<a class="code" href="class_p_f_1_1_path.html">Path</a> p) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a5120853bc1c4454bd9f3b22222932cef">useRaycasting</a> &amp;&amp; !<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a3a82ff7e001b25ad706b55ec0c5f0a44">useGraphRaycasting</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                        var points = p.<a class="code" href="class_p_f_1_1_path.html#aaebf4b3927b0b5f972f728ad4ce57831">vectorPath</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a87108ac9b214eb9374a6def8301c6574">ValidateLine</a>(<span class="keyword">null</span>, <span class="keyword">null</span>, p.<a class="code" href="class_p_f_1_1_path.html#aaebf4b3927b0b5f972f728ad4ce57831">vectorPath</a>[0], p.<a class="code" href="class_p_f_1_1_path.html#aaebf4b3927b0b5f972f728ad4ce57831">vectorPath</a>[p.<a class="code" href="class_p_f_1_1_path.html#aaebf4b3927b0b5f972f728ad4ce57831">vectorPath</a>.Count-1])) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                <span class="comment">// A very common case is that there is a straight line to the target.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                var s = p.<a class="code" href="class_p_f_1_1_path.html#aaebf4b3927b0b5f972f728ad4ce57831">vectorPath</a>[0];</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                var e = p.<a class="code" href="class_p_f_1_1_path.html#aaebf4b3927b0b5f972f728ad4ce57831">vectorPath</a>[p.<a class="code" href="class_p_f_1_1_path.html#aaebf4b3927b0b5f972f728ad4ce57831">vectorPath</a>.Count-1];</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                points.ClearFast();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                points.Add(s);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                points.Add(e);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                <span class="keywordtype">int</span> iterations = iterationsByQuality[(int)<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#aac76ffa65ba77be1df06ca1e87d88604">quality</a>];</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> it = 0; it &lt; iterations; it++) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                        <span class="keywordflow">if</span> (it != 0) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                                Polygon.Subdivide(points, buffer, 3);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                                Memory.Swap(ref buffer, ref points);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                                buffer.ClearFast();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                                                points.Reverse();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                        }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                                        points = <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#aac76ffa65ba77be1df06ca1e87d88604">quality</a> &gt;= <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#af6ba4d8f0610cb858ab276ffeb877727">Quality</a>.High ? ApplyDP(p, points) : ApplyGreedy(p, points);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                <span class="keywordflow">if</span> ((iterations % 2) == 0) points.Reverse();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                        }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                        p.<a class="code" href="class_p_f_1_1_path.html#aaebf4b3927b0b5f972f728ad4ce57831">vectorPath</a> = points;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                List&lt;Vector3&gt; ApplyGreedy (<a class="code" href="class_p_f_1_1_path.html">Path</a> p, List&lt;Vector3&gt; points) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                        <span class="keywordtype">bool</span> canBeOriginalNodes = points.Count == p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>.Count;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                        <span class="keywordtype">int</span> startIndex = 0;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                        <span class="keywordflow">while</span> (startIndex &lt; points.Count) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                <a class="code" href="struct_unity_engine_1_1_vector3.html">Vector3</a> start = points[startIndex];</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                var startNode = canBeOriginalNodes &amp;&amp; points[startIndex] == (<a class="code" href="_raycast_modifier_8cs.html#af3326292fdd04d2b384b6d781d9594f6">Vector3</a>)p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>[startIndex].position ? p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>[startIndex] : <span class="keyword">null</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                buffer.Add(start);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                <span class="comment">// Do a binary search to find the furthest node we can see from this node</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                <span class="keywordtype">int</span> mn = 1, mx = 2;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                                <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                        <span class="keywordtype">int</span> endIndex = startIndex + mx;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                                        <span class="keywordflow">if</span> (endIndex &gt;= points.Count) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                                                mx = points.Count - startIndex;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                        }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                        <a class="code" href="struct_unity_engine_1_1_vector3.html">Vector3</a> end = points[endIndex];</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                        var endNode = canBeOriginalNodes &amp;&amp; end == (<a class="code" href="_raycast_modifier_8cs.html#af3326292fdd04d2b384b6d781d9594f6">Vector3</a>)p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>[endIndex].position ? p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>[endIndex] : <span class="keyword">null</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                        if (!<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a87108ac9b214eb9374a6def8301c6574">ValidateLine</a>(startNode, endNode, start, end)) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                        mn = mx;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                        mx *= 2;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                <span class="keywordflow">while</span> (mn + 1 &lt; mx) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                        <span class="keywordtype">int</span> mid = (mn + mx)/2;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                        <span class="keywordtype">int</span> endIndex = startIndex + mid;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                        <a class="code" href="struct_unity_engine_1_1_vector3.html">Vector3</a> end = points[endIndex];</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                        var endNode = canBeOriginalNodes &amp;&amp; end == (<a class="code" href="_raycast_modifier_8cs.html#af3326292fdd04d2b384b6d781d9594f6">Vector3</a>)p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>[endIndex].position ? p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>[endIndex] : <span class="keyword">null</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                        if (<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a87108ac9b214eb9374a6def8301c6574">ValidateLine</a>(startNode, endNode, start, end)) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                                mn = mid;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                                mx = mid;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                        }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                                }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                                startIndex += mn;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                        Memory.Swap(ref buffer, ref points);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                        buffer.ClearFast();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                        <span class="keywordflow">return</span> points;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                List&lt;Vector3&gt; ApplyDP (<a class="code" href="class_p_f_1_1_path.html">Path</a> p, List&lt;Vector3&gt; points) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        <span class="keywordflow">if</span> (DPCosts.Length &lt; points.Count) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                DPCosts = <span class="keyword">new</span> <span class="keywordtype">float</span>[points.Count];</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                DPParents = <span class="keyword">new</span> <span class="keywordtype">int</span>[points.Count];</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; DPParents.Length; i++) DPCosts[i] = DPParents[i] = -1;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                        <span class="keywordtype">bool</span> canBeOriginalNodes = points.Count == p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>.Count;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; points.Count; i++) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                <span class="keywordtype">float</span> d = DPCosts[i];</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                                <a class="code" href="struct_unity_engine_1_1_vector3.html">Vector3</a> start = points[i];</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                var startIsOriginalNode = canBeOriginalNodes &amp;&amp; start == (<a class="code" href="_raycast_modifier_8cs.html#af3326292fdd04d2b384b6d781d9594f6">Vector3</a>)p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>[i].position;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                for (<span class="keywordtype">int</span> j = i+1; j &lt; points.Count; j++) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                        <span class="comment">// Total distance from the start to this point using the best simplified path</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                                        <span class="comment">// The small additive constant is to make sure that the number of points is kept as small as possible</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                        <span class="comment">// even when the total distance is the same (which can happen with e.g multiple colinear points).</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                        <span class="keywordtype">float</span> d2 = d + (points[j] - start).magnitude + 0.0001f;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                        <span class="keywordflow">if</span> (DPParents[j] == -1 || d2 &lt; DPCosts[j]) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                                var endIsOriginalNode = canBeOriginalNodes &amp;&amp; points[j] == (<a class="code" href="_raycast_modifier_8cs.html#af3326292fdd04d2b384b6d781d9594f6">Vector3</a>)p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>[j].position;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                                if (j == i+1 || <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a87108ac9b214eb9374a6def8301c6574">ValidateLine</a>(startIsOriginalNode ? p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>[i] : <span class="keyword">null</span>, endIsOriginalNode ? p.<a class="code" href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">path</a>[j] : <span class="keyword">null</span>, start, points[j])) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                                        DPCosts[j] = d2;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                                        DPParents[j] = i;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                                }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                        }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        <span class="keywordtype">int</span> c = points.Count - 1;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        <span class="keywordflow">while</span> (c != -1) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                buffer.Add(points[c]);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                c = DPParents[c];</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                        }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                        buffer.Reverse();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                        Memory.Swap(ref buffer, ref points);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        buffer.ClearFast();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                        <span class="keywordflow">return</span> points;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="class_pathfinding_1_1_raycast_modifier.html#a87108ac9b214eb9374a6def8301c6574">  231</a></span>&#160;                <span class="keyword">protected</span> <span class="keywordtype">bool</span> <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a87108ac9b214eb9374a6def8301c6574">ValidateLine</a> (<a class="code" href="class_p_f_1_1_graph_node.html">GraphNode</a> n1, <a class="code" href="class_p_f_1_1_graph_node.html">GraphNode</a> n2, <a class="code" href="struct_unity_engine_1_1_vector3.html">Vector3</a> v1, <a class="code" href="struct_unity_engine_1_1_vector3.html">Vector3</a> v2) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a5120853bc1c4454bd9f3b22222932cef">useRaycasting</a>) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                <span class="comment">// Use raycasting to check if a straight path between v1 and v2 is valid</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a702d49fee5e4d3a87509a9ef34c5e581">use2DPhysics</a>) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                        <span class="keywordflow">if</span> (<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a1bf67cf9b16aa204d0a1a703f44795ff">thickRaycast</a> &amp;&amp; <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a79b795dad212cc96a2cdb8973d91ad74">thickRaycastRadius</a> &gt; 0 &amp;&amp; Physics2D.CircleCast(v1 + <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#aa104b580774a4c819fa081dbacd9e9c9">raycastOffset</a>, <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a79b795dad212cc96a2cdb8973d91ad74">thickRaycastRadius</a>, v2 - v1, (v2 - v1).<a class="code" href="struct_unity_engine_1_1_vector3.html#a65fc0bea74f78f4355d5f9db8319cf7b">magnitude</a>, <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#ab22cba2730bc1a7fc0389a4d74a7fa66">mask</a>)) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                        }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                        <span class="keywordflow">if</span> (Physics2D.Linecast(v1+<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#aa104b580774a4c819fa081dbacd9e9c9">raycastOffset</a>, v2+<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#aa104b580774a4c819fa081dbacd9e9c9">raycastOffset</a>, <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#ab22cba2730bc1a7fc0389a4d74a7fa66">mask</a>)) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                        }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                                        <span class="comment">// Perform a thick raycast (if enabled)</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                                        <span class="keywordflow">if</span> (<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a1bf67cf9b16aa204d0a1a703f44795ff">thickRaycast</a> &amp;&amp; <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a79b795dad212cc96a2cdb8973d91ad74">thickRaycastRadius</a> &gt; 0 &amp;&amp; Physics.SphereCast(<span class="keyword">new</span> Ray(v1+<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#aa104b580774a4c819fa081dbacd9e9c9">raycastOffset</a>, v2-v1), <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a79b795dad212cc96a2cdb8973d91ad74">thickRaycastRadius</a>, (v2-v1).magnitude, <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#ab22cba2730bc1a7fc0389a4d74a7fa66">mask</a>)) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                        <span class="comment">// Perform a normal raycast</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                        <span class="comment">// This is done even if a thick raycast is also done because thick raycasts do not report collisions for</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                        <span class="comment">// colliders that overlapped the (imaginary) sphere at the origin of the thick raycast.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                        <span class="comment">// If this raycast was not done then some obstacles could be missed.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                        <span class="keywordflow">if</span> (Physics.Linecast(v1+<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#aa104b580774a4c819fa081dbacd9e9c9">raycastOffset</a>, v2+<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#aa104b580774a4c819fa081dbacd9e9c9">raycastOffset</a>, <a class="code" href="class_pathfinding_1_1_raycast_modifier.html#ab22cba2730bc1a7fc0389a4d74a7fa66">mask</a>)) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                        }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_pathfinding_1_1_raycast_modifier.html#a3a82ff7e001b25ad706b55ec0c5f0a44">useGraphRaycasting</a>) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="preprocessor">#if !AstarFree &amp;&amp; !ASTAR_NO_GRID_GRAPH</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                <span class="keywordtype">bool</span> betweenNodeCenters = n1 != <span class="keyword">null</span> &amp;&amp; n2 != <span class="keyword">null</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                <span class="keywordflow">if</span> (n1 == <span class="keyword">null</span>) n1 = PathFindHelper.GetNearest(v1).node;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                <span class="keywordflow">if</span> (n2 == <span class="keyword">null</span>) n2 = PathFindHelper.GetNearest(v2).node;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                <span class="keywordflow">if</span> (n1 != <span class="keyword">null</span> &amp;&amp; n2 != <span class="keyword">null</span>) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                        <span class="comment">// Use graph raycasting to check if a straight path between v1 and v2 is valid</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                                        <a class="code" href="class_p_f_1_1_nav_graph.html">NavGraph</a> graph = UnityHelper.GetGraph(n1);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                        <a class="code" href="class_p_f_1_1_nav_graph.html">NavGraph</a> graph2 = UnityHelper.GetGraph(n2);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                                        <span class="keywordflow">if</span> (graph != graph2) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                                                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                                        }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                        var rayGraph = graph as <a class="code" href="interface_p_f_1_1_i_raycastable_graph.html">IRaycastableGraph</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                        </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                        <span class="keywordflow">if</span> (rayGraph != <span class="keyword">null</span>) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                                                <span class="keywordflow">return</span> !rayGraph.<a class="code" href="interface_p_f_1_1_i_raycastable_graph.html#ac24648fcf65eb885f0557f7ff80e5f48">Linecast</a>(v1, v2, n1);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                                        }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                        }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="ttc" id="a_raycast_modifier_8cs_html_af3326292fdd04d2b384b6d781d9594f6"><div class="ttname"><a href="_raycast_modifier_8cs.html#af3326292fdd04d2b384b6d781d9594f6">Vector3</a></div><div class="ttdeci">UnityEngine.Vector3 Vector3</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00004">RaycastModifier.cs:4</a></div></div>
<div class="ttc" id="aclass_p_f_1_1_graph_node_html"><div class="ttname"><a href="class_p_f_1_1_graph_node.html">PF.GraphNode</a></div><div class="ttdef"><b>Definition:</b> <a href="_graph_node_8cs_source.html#l00048">GraphNode.cs:48</a></div></div>
<div class="ttc" id="aclass_p_f_1_1_nav_graph_html"><div class="ttname"><a href="class_p_f_1_1_nav_graph.html">PF.NavGraph</a></div><div class="ttdef"><b>Definition:</b> <a href="_nav_graph_8cs_source.html#l00022">NavGraph.cs:22</a></div></div>
<div class="ttc" id="aclass_p_f_1_1_path_html"><div class="ttname"><a href="class_p_f_1_1_path.html">PF.Path</a></div><div class="ttdef"><b>Definition:</b> <a href="_path_8cs_source.html#l00133">Path.cs:133</a></div></div>
<div class="ttc" id="aclass_p_f_1_1_path_html_aaebf4b3927b0b5f972f728ad4ce57831"><div class="ttname"><a href="class_p_f_1_1_path.html#aaebf4b3927b0b5f972f728ad4ce57831">PF.Path.vectorPath</a></div><div class="ttdeci">List&lt; Vector3 &gt; vectorPath</div><div class="ttdef"><b>Definition:</b> <a href="_path_8cs_source.html#l00211">Path.cs:211</a></div></div>
<div class="ttc" id="aclass_p_f_1_1_path_html_af5cbb9ffba21181f539d94c465f39b43"><div class="ttname"><a href="class_p_f_1_1_path.html#af5cbb9ffba21181f539d94c465f39b43">PF.Path.path</a></div><div class="ttdeci">List&lt; GraphNode &gt; path</div><div class="ttdef"><b>Definition:</b> <a href="_path_8cs_source.html#l00208">Path.cs:208</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_mono_modifier_html"><div class="ttname"><a href="class_pathfinding_1_1_mono_modifier.html">Pathfinding.MonoModifier</a></div><div class="ttdef"><b>Definition:</b> <a href="_modifiers_8cs_source.html#l00052">Modifiers.cs:52</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html">Pathfinding.RaycastModifier</a></div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00042">RaycastModifier.cs:42</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_a1bf67cf9b16aa204d0a1a703f44795ff"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#a1bf67cf9b16aa204d0a1a703f44795ff">Pathfinding.RaycastModifier.thickRaycast</a></div><div class="ttdeci">bool thickRaycast</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00067">RaycastModifier.cs:67</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_a3a82ff7e001b25ad706b55ec0c5f0a44"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#a3a82ff7e001b25ad706b55ec0c5f0a44">Pathfinding.RaycastModifier.useGraphRaycasting</a></div><div class="ttdeci">bool useGraphRaycasting</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00089">RaycastModifier.cs:89</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_a4648dee93e093180608e371c7c13b001"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#a4648dee93e093180608e371c7c13b001">Pathfinding.RaycastModifier.Apply</a></div><div class="ttdeci">override void Apply(Path p)</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00114">RaycastModifier.cs:114</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_a5120853bc1c4454bd9f3b22222932cef"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#a5120853bc1c4454bd9f3b22222932cef">Pathfinding.RaycastModifier.useRaycasting</a></div><div class="ttdeci">bool useRaycasting</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00053">RaycastModifier.cs:53</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_a702d49fee5e4d3a87509a9ef34c5e581"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#a702d49fee5e4d3a87509a9ef34c5e581">Pathfinding.RaycastModifier.use2DPhysics</a></div><div class="ttdeci">bool use2DPhysics</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00079">RaycastModifier.cs:79</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_a79b795dad212cc96a2cdb8973d91ad74"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#a79b795dad212cc96a2cdb8973d91ad74">Pathfinding.RaycastModifier.thickRaycastRadius</a></div><div class="ttdeci">float thickRaycastRadius</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00071">RaycastModifier.cs:71</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_a87108ac9b214eb9374a6def8301c6574"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#a87108ac9b214eb9374a6def8301c6574">Pathfinding.RaycastModifier.ValidateLine</a></div><div class="ttdeci">bool ValidateLine(GraphNode n1, GraphNode n2, Vector3 v1, Vector3 v2)</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00231">RaycastModifier.cs:231</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_aa104b580774a4c819fa081dbacd9e9c9"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#aa104b580774a4c819fa081dbacd9e9c9">Pathfinding.RaycastModifier.raycastOffset</a></div><div class="ttdeci">Vector3 raycastOffset</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00085">RaycastModifier.cs:85</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_aac76ffa65ba77be1df06ca1e87d88604"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#aac76ffa65ba77be1df06ca1e87d88604">Pathfinding.RaycastModifier.quality</a></div><div class="ttdeci">Quality quality</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00096">RaycastModifier.cs:96</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_ab22cba2730bc1a7fc0389a4d74a7fa66"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#ab22cba2730bc1a7fc0389a4d74a7fa66">Pathfinding.RaycastModifier.mask</a></div><div class="ttdeci">LayerMask mask</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00059">RaycastModifier.cs:59</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_af6ba4d8f0610cb858ab276ffeb877727"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#af6ba4d8f0610cb858ab276ffeb877727">Pathfinding.RaycastModifier.Quality</a></div><div class="ttdeci">Quality</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00098">RaycastModifier.cs:98</a></div></div>
<div class="ttc" id="aclass_pathfinding_1_1_raycast_modifier_html_afa383125613e077f2d5740ae0b107f83"><div class="ttname"><a href="class_pathfinding_1_1_raycast_modifier.html#afa383125613e077f2d5740ae0b107f83">Pathfinding.RaycastModifier.Order</a></div><div class="ttdeci">override int Order</div><div class="ttdef"><b>Definition:</b> <a href="_raycast_modifier_8cs_source.html#l00050">RaycastModifier.cs:50</a></div></div>
<div class="ttc" id="ainterface_p_f_1_1_i_raycastable_graph_html"><div class="ttname"><a href="interface_p_f_1_1_i_raycastable_graph.html">PF.IRaycastableGraph</a></div><div class="ttdef"><b>Definition:</b> <a href="_navmesh_base_8cs_source.html#l00058">NavmeshBase.cs:58</a></div></div>
<div class="ttc" id="ainterface_p_f_1_1_i_raycastable_graph_html_ac24648fcf65eb885f0557f7ff80e5f48"><div class="ttname"><a href="interface_p_f_1_1_i_raycastable_graph.html#ac24648fcf65eb885f0557f7ff80e5f48">PF.IRaycastableGraph.Linecast</a></div><div class="ttdeci">bool Linecast(Vector3 start, Vector3 end)</div></div>
<div class="ttc" id="anamespace_p_f_html"><div class="ttname"><a href="namespace_p_f.html">PF</a></div><div class="ttdef"><b>Definition:</b> <a href="_array_pool_8cs_source.html#l00009">ArrayPool.cs:9</a></div></div>
<div class="ttc" id="anamespace_pathfinding_1_1_util_html"><div class="ttname"><a href="namespace_pathfinding_1_1_util.html">Pathfinding.Util</a></div><div class="ttdef"><b>Definition:</b> <a href="_draw_8cs_source.html#l00008">Draw.cs:8</a></div></div>
<div class="ttc" id="anamespace_pathfinding_html"><div class="ttname"><a href="namespace_pathfinding.html">Pathfinding</a></div><div class="ttdef"><b>Definition:</b> <a href="_a_i_base_editor_8cs_source.html#l00004">AIBaseEditor.cs:4</a></div></div>
<div class="ttc" id="anamespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div><div class="ttdef"><b>Definition:</b> <a href="_async_method_builder_attribute_8cs_source.html#l00001">AsyncMethodBuilderAttribute.cs:2</a></div></div>
<div class="ttc" id="anamespace_unity_engine_html"><div class="ttname"><a href="namespace_unity_engine.html">UnityEngine</a></div><div class="ttdef"><b>Definition:</b> <a href="_mathf_8cs_source.html#l00003">Mathf.cs:4</a></div></div>
<div class="ttc" id="astruct_unity_engine_1_1_vector3_html"><div class="ttname"><a href="struct_unity_engine_1_1_vector3.html">UnityEngine.Vector3</a></div><div class="ttdef"><b>Definition:</b> <a href="_vector3_8cs_source.html#l00007">Vector3.cs:8</a></div></div>
<div class="ttc" id="astruct_unity_engine_1_1_vector3_html_a5ee4172032dfc66b99c27713f0122eaa"><div class="ttname"><a href="struct_unity_engine_1_1_vector3.html#a5ee4172032dfc66b99c27713f0122eaa">UnityEngine.Vector3.zero</a></div><div class="ttdeci">static readonly Vector3 zero</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_8cs_source.html#l00011">Vector3.cs:11</a></div></div>
<div class="ttc" id="astruct_unity_engine_1_1_vector3_html_a65fc0bea74f78f4355d5f9db8319cf7b"><div class="ttname"><a href="struct_unity_engine_1_1_vector3.html#a65fc0bea74f78f4355d5f9db8319cf7b">UnityEngine.Vector3.magnitude</a></div><div class="ttdeci">float magnitude</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_8cs_source.html#l00080">Vector3.cs:81</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_84bbf7b3c7f28a5a18725745e1505219.html">Assets</a></li><li class="navelem"><a class="el" href="dir_f13b41af88cf68434578284aaf699e39.html">Scripts</a></li><li class="navelem"><a class="el" href="dir_46d134a3bf82cf4dc49ca8f728aea58c.html">Libraries</a></li><li class="navelem"><a class="el" href="dir_f6df8f7e58ea5a2220a287b647108730.html">ET</a></li><li class="navelem"><a class="el" href="dir_83296929b1cb48979e134a96af9624b1.html">Module</a></li><li class="navelem"><a class="el" href="dir_7e04bdad0240fbb16a4f5f805ce44f49.html">Pathfinding</a></li><li class="navelem"><a class="el" href="dir_12c2f59e7be642934a5bea5c58ae8c1b.html">AstarPathfindingProject</a></li><li class="navelem"><a class="el" href="dir_3b65847a6d67b70504b69924fca11558.html">Modifiers</a></li><li class="navelem"><a class="el" href="_raycast_modifier_8cs.html">RaycastModifier.cs</a></li>
    <li class="footer">生成于 2021年 十月 1日 星期五 07:24:46 , 为 Linity使用  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
