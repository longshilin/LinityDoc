<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Linity: PF.PathEndingCondition类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Linity
   &#160;<span id="projectnumber">1.0 Beta</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_p_f_1_1_path_ending_condition.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pro-methods">Protected 成员函数</a> &#124;
<a href="#pro-attribs">Protected 属性</a>  </div>
  <div class="headertitle">
<div class="title">PF.PathEndingCondition类 参考<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
类 PF.PathEndingCondition 继承关系图:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_p_f_1_1_path_ending_condition.png" usemap="#PF.PathEndingCondition_map" alt=""/>
  <map id="PF.PathEndingCondition_map" name="PF.PathEndingCondition_map">
<area href="class_p_f_1_1_a_b_path_ending_condition.html" alt="PF.ABPathEndingCondition" shape="rect" coords="0,56,175,80"/>
<area href="class_p_f_1_1_ending_condition_distance.html" alt="PF.EndingConditionDistance" shape="rect" coords="185,56,360,80"/>
<area href="class_p_f_1_1_ending_condition_proximity.html" alt="PF.EndingConditionProximity" shape="rect" coords="0,112,175,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:ac60495ded059e1e9b28e14751306eb02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_f_1_1_path_ending_condition.html#ac60495ded059e1e9b28e14751306eb02">PathEndingCondition</a> (<a class="el" href="class_p_f_1_1_path.html">Path</a> p)</td></tr>
<tr class="separator:ac60495ded059e1e9b28e14751306eb02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80003f1d8e82a9a6fa56f2a6c46ac6c0"><td class="memItemLeft" align="right" valign="top">abstract bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_f_1_1_path_ending_condition.html#a80003f1d8e82a9a6fa56f2a6c46ac6c0">TargetFound</a> (<a class="el" href="class_p_f_1_1_path_node.html">PathNode</a> node)</td></tr>
<tr class="separator:a80003f1d8e82a9a6fa56f2a6c46ac6c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected 成员函数</h2></td></tr>
<tr class="memitem:a75dbc0b8ae890e9ace330e4b81695b3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_f_1_1_path_ending_condition.html#a75dbc0b8ae890e9ace330e4b81695b3d">PathEndingCondition</a> ()</td></tr>
<tr class="separator:a75dbc0b8ae890e9ace330e4b81695b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected 属性</h2></td></tr>
<tr class="memitem:ab39a351676738441d895a3d93bb10cb4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_p_f_1_1_path.html">Path</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_f_1_1_path_ending_condition.html#ab39a351676738441d895a3d93bb10cb4">path</a></td></tr>
<tr class="separator:ab39a351676738441d895a3d93bb10cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>Customized ending condition for a path. This class can be used to implement a custom ending condition for e.g an Pathfinding.XPath. Inherit from this class and override the <a class="el" href="class_p_f_1_1_path_ending_condition.html#a80003f1d8e82a9a6fa56f2a6c46ac6c0">TargetFound</a> function to implement you own ending condition logic.</p>
<p>For example, you might want to create an Ending Condition which stops when a node is close enough to a given point. Then what you do is that you create your own class, let's call it MyEndingCondition and override the function TargetFound to specify our own logic. We want to inherit from <a class="el" href="class_p_f_1_1_a_b_path_ending_condition.html">ABPathEndingCondition</a> because only ABPaths have end points defined.</p>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>MyEndingCondition : ABPathEndingCondition {</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Maximum world distance to the target node before terminating the path</span></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">float</span> maxDistance = 10;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Reuse the constructor in the superclass</span></div>
<div class="line">    <span class="keyword">public</span> MyEndingCondition (ABPath p) : base (p) {}</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">bool</span> <a class="code" href="class_p_f_1_1_path_ending_condition.html#a80003f1d8e82a9a6fa56f2a6c46ac6c0">TargetFound</a> (PathNode node) {</div>
<div class="line">        <span class="keywordflow">return</span> ((<a class="code" href="_recast_graph_editor_8cs.html#af3326292fdd04d2b384b6d781d9594f6">Vector3</a>)node.node.position - abPath.originalEndPoint).sqrMagnitude &lt;= maxDistance*maxDistance;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="a_recast_graph_editor_8cs_html_af3326292fdd04d2b384b6d781d9594f6"><div class="ttname"><a href="_recast_graph_editor_8cs.html#af3326292fdd04d2b384b6d781d9594f6">Vector3</a></div><div class="ttdeci">UnityEngine.Vector3 Vector3</div><div class="ttdef"><b>Definition:</b> <a href="_recast_graph_editor_8cs_source.html#l00005">RecastGraphEditor.cs:5</a></div></div>
<div class="ttc" id="aclass_p_f_1_1_path_ending_condition_html_a80003f1d8e82a9a6fa56f2a6c46ac6c0"><div class="ttname"><a href="class_p_f_1_1_path_ending_condition.html#a80003f1d8e82a9a6fa56f2a6c46ac6c0">PF.PathEndingCondition.TargetFound</a></div><div class="ttdeci">abstract bool TargetFound(PathNode node)</div></div>
</div><!-- fragment --><p>One part at a time. We need to cast the node's position to a Vector3 since internally, it is stored as an integer coordinate (<a class="el" href="struct_p_f_1_1_int3.html">Int3</a>). Then we subtract the Pathfinding.Path.originalEndPoint from it to get their difference. The original end point is always the exact point specified when calling the path. As a last step we check the squared magnitude (squared distance, it is much faster than the non-squared distance) and check if it is lower or equal to our maxDistance squared.<br  />
There you have it, it is as simple as that. Then you simply assign it to the <em>endingCondition</em> variable on, for example an <a class="el" href="class_p_f_1_1_x_path.html">XPath</a> which uses the EndingCondition.</p>
<div class="fragment"><div class="line">XPath myXPath = XPath.Construct(startPoint, endPoint);</div>
<div class="line">MyEndingCondition ec = <span class="keyword">new</span> MyEndingCondition();</div>
<div class="line">ec.maxDistance = 100; <span class="comment">// Or some other value</span></div>
<div class="line">myXPath.endingCondition = ec;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Calculate the path!</span></div>
<div class="line">seeker.StartPath (ec);</div>
</div><!-- fragment --><p>Where <em>seeker</em> is a #Seeker component, and <em>myXPath</em> is an Pathfinding.XPath.<br  />
 </p><dl class="section note"><dt>注解</dt><dd>The above was written without testing. I hope I haven't made any mistakes, if you try it out, and it doesn't seem to work. Please post a comment in the forums.</dd></dl>
<dl class="section version"><dt>版本</dt><dd>Method structure changed in 3.2 </dd>
<dd>
Updated in version 3.6.8</dd></dl>
<dl class="section see"><dt>参见</dt><dd>Pathfinding.XPath </dd>
<dd>
Pathfinding.ConstantPath </dd></dl>

<p class="definition">在文件 <a class="el" href="_x_path_8cs_source.html">XPath.cs</a> 第 <a class="el" href="_x_path_8cs_source.html#l00168">168</a> 行定义.</p>
</div><h2 class="groupheader">构造及析构函数说明</h2>
<a id="a75dbc0b8ae890e9ace330e4b81695b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75dbc0b8ae890e9ace330e4b81695b3d">&#9670;&nbsp;</a></span>PathEndingCondition() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PF.PathEndingCondition.PathEndingCondition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_x_path_8cs_source.html">XPath.cs</a> 第 <a class="el" href="_x_path_8cs_source.html#l00172">172</a> 行定义.</p>

</div>
</div>
<a id="ac60495ded059e1e9b28e14751306eb02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac60495ded059e1e9b28e14751306eb02">&#9670;&nbsp;</a></span>PathEndingCondition() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PF.PathEndingCondition.PathEndingCondition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_f_1_1_path.html">Path</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_x_path_8cs_source.html">XPath.cs</a> 第 <a class="el" href="_x_path_8cs_source.html#l00174">174</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="a80003f1d8e82a9a6fa56f2a6c46ac6c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80003f1d8e82a9a6fa56f2a6c46ac6c0">&#9670;&nbsp;</a></span>TargetFound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract bool PF.PathEndingCondition.TargetFound </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_p_f_1_1_path_node.html">PathNode</a>&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Has the ending condition been fulfilled. </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>The current node. </td></tr>
  </table>
  </dd>
</dl>

<p>在 <a class="el" href="class_p_f_1_1_ending_condition_proximity.html#a33f415173ff4ae09bde5f0574176b8bc">PF.EndingConditionProximity</a>, <a class="el" href="class_p_f_1_1_a_b_path_ending_condition.html#a54c33b6b157169a29a64b5b815b87d4e">PF.ABPathEndingCondition</a> , 以及 <a class="el" href="class_p_f_1_1_ending_condition_distance.html#acf5756439c01d6283719d22f71c72964">PF.EndingConditionDistance</a> 内被实现.</p>

</div>
</div>
<h2 class="groupheader">结构体成员变量说明</h2>
<a id="ab39a351676738441d895a3d93bb10cb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab39a351676738441d895a3d93bb10cb4">&#9670;&nbsp;</a></span>path</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_p_f_1_1_path.html">Path</a> PF.PathEndingCondition.path</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="class_p_f_1_1_path.html">Path</a> which this ending condition is used on </p>

<p class="definition">在文件 <a class="el" href="_x_path_8cs_source.html">XPath.cs</a> 第 <a class="el" href="_x_path_8cs_source.html#l00170">170</a> 行定义.</p>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>Assets/Scripts/Libraries/ET/Module/Pathfinding/Recast/Pathfinders/<a class="el" href="_x_path_8cs_source.html">XPath.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_p_f.html">PF</a></li><li class="navelem"><a class="el" href="class_p_f_1_1_path_ending_condition.html">PathEndingCondition</a></li>
    <li class="footer">生成于 2021年 十月 1日 星期五 07:25:24 , 为 Linity使用  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
